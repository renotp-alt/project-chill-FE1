<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chill â€” Film</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container" role="main">
    <div id="root"></div>
  </main>

  <script src="./vendor/react.development.js" onerror="(function(){var s=document.createElement('script');s.crossOrigin='';s.src='https://unpkg.com/react@18/umd/react.development.js';document.head.appendChild(s);})();"></script>
  <script src="./vendor/react-dom.development.js" onerror="(function(){var s=document.createElement('script');s.crossOrigin='';s.src='https://unpkg.com/react-dom@18/umd/react-dom.development.js';document.head.appendChild(s);})();"></script>
  <script src="./vendor/babel.min.js" onerror="(function(){var s=document.createElement('script');s.src='https://unpkg.com/@babel/standalone/babel.min.js';document.head.appendChild(s);})();"></script>
  <script type="text/babel" data-presets="react">
    const { useEffect, useRef } = React;

    function Header(){
      return (
        <header className="header">
          <div className="topbar">
            <div className="brand"><i className="brand-icon" aria-hidden="true">ðŸŽ¬</i> <span>CHILL</span></div>
            <nav aria-label="Navigasi utama">
              <a href="./series.html">Series</a>
              <a href="./film.html" aria-current="page">Film</a>
              <a href="./my-list.html">Daftar Saya</a>
            </nav>
            <div className="avatar" title="Profil" aria-label="Profil"></div>
          </div>
        </header>
      );
    }

    function Hero({ title, description, ageTag }){
      return (
        <section className="hero" aria-label="Banner">
          <div className="hero-inner">
            <h2>{title}</h2>
            <p>{description}</p>
            <div className="actions">
              <a className="btn" href="#">Mulai</a>
              <a className="btn-outline" href="#">Selengkapnya</a>
              <span className="tag">{ageTag}</span>
            </div>
          </div>
        </section>
      );
    }

    function Card({ img, alt, label, onClick }){
      return (
        <article className="card" onClick={onClick} role="button" tabIndex={0} onKeyDown={(e)=>{if(e.key==='Enter') onClick&&onClick();}}>
          <img loading="lazy" src={img} alt={alt} onError={(e)=>{e.currentTarget.onerror=null;e.currentTarget.src='https://via.placeholder.com/300x450?text=Poster';}} />
          <div className="overlay"><p>{label}</p></div>
        </article>
      );
    }

    function useHorizontalScroller(ref){
      useEffect(()=>{
        const el = ref.current; if(!el) return;
        const onWheel = (e)=>{ if(Math.abs(e.deltaY)>Math.abs(e.deltaX)){ e.preventDefault(); el.scrollLeft += e.deltaY; } };
        let isDown=false,startX=0,scrollLeft=0;
        const onDown=(e)=>{isDown=true;startX=e.pageX-el.offsetLeft;scrollLeft=el.scrollLeft;el.setPointerCapture(e.pointerId);el.classList.add('dragging');};
        const onLeave=()=>{isDown=false;el.classList.remove('dragging');};
        const onUp=()=>{isDown=false;el.classList.remove('dragging');};
        const onMove=(e)=>{ if(!isDown) return; e.preventDefault(); const x=e.pageX-el.offsetLeft; el.scrollLeft=scrollLeft-(x-startX)*1.2; };
        el.addEventListener('wheel', onWheel, {passive:false});
        el.addEventListener('pointerdown', onDown);
        el.addEventListener('pointerleave', onLeave);
        el.addEventListener('pointerup', onUp);
        el.addEventListener('pointermove', onMove);
        return ()=>{
          el.removeEventListener('wheel', onWheel);
          el.removeEventListener('pointerdown', onDown);
          el.removeEventListener('pointerleave', onLeave);
          el.removeEventListener('pointerup', onUp);
          el.removeEventListener('pointermove', onMove);
        };
      },[ref]);
    }

    function Scroller({ ariaLabel, children }){
      const ref = useRef(null); useHorizontalScroller(ref);
      return (<div ref={ref} className="scroller" tabIndex={0} aria-label={ariaLabel}>{children}</div>);
    }

    function Section({ title, items, onOpen }){
      return (
        <section className="section">
          <h3>{title}</h3>
          <Scroller ariaLabel={`${title} (geser untuk melihat lainnya)`}>
            {items.map((it, i)=>(<Card key={i} img={it.img} alt={it.alt} label={it.label} onClick={()=>onOpen(it)} />))}
          </Scroller>
        </section>
      );
    }

    const data = {
      hero:{ title:'Film Pilihan', description:'Film unggulan dan rekomendasi hari ini.', ageTag:'13+' },
      sections:[
        { title:'Melanjutkan Tonton Film', items:[
          { img:'https://image.tmdb.org/t/p/w500/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg', alt:'The Matrix', label:'The Matrix â€¢ â˜… 4.7' },
          { img:'https://image.tmdb.org/t/p/w500/NNxYkU70HPurnNCSiCjYAmacwm.jpg', alt:'MI7', label:'Mission: Impossible 7 â€¢ â˜… 4.2' },
          { img:'https://image.tmdb.org/t/p/w500/62HCnUTziyWcpDaBO2i1DX17ljH.jpg', alt:'Top Gun 2', label:'Top Gun: Maverick â€¢ â˜… 4.6' },
          { img:'https://image.tmdb.org/t/p/w500/qNBAXBIQlnOThrVvA6mA2B5ggV6.jpg', alt:'Mario', label:'Super Mario Bros â€¢ â˜… 4.1' },
        ]},
        { title:'Top Rating Hari ini', items:[
          { img:'https://image.tmdb.org/t/p/w500/1hRoyzDtpgMU7Dz4JF22RANzQO7.jpg', alt:'The Dark Knight', label:'The Dark Knight â€¢ â˜… 4.9' },
          { img:'https://image.tmdb.org/t/p/w500/d5NXSklXo0qyIYkgV94XAgMIckC.jpg', alt:'Dune', label:'Dune â€¢ â˜… 4.4' },
          { img:'https://image.tmdb.org/t/p/w500/8Vt6mWEReuy4Of61Lnj5Xj704m8.jpg', alt:'Across Spider-Verse', label:'Across Spider-Verse â€¢ â˜… 4.8/5' },
          { img:'https://image.tmdb.org/t/p/w500/vZloFAK7NmvMGKE7VkF5UHaz0I.jpg', alt:'John Wick 4', label:'John Wick 4 â€¢ â˜… 4.3' },
        ]},
      ]
    };

    function Footer(){
      return (
        <footer className="site-footer">
          <div className="foot-grid">
            <div className="foot-brand"><div className="logo-row"><i className="logo-box" aria-hidden="true">ðŸŽ¬</i> <span>CHILL</span></div><p className="copy">Â©2025 Chill All Rights Reserved.</p></div>
            <div className="foot-block foot-genre"><div className="foot-title">Genre</div><ul className="foot-list genre-cols"><li>Aksi</li><li>Drama</li><li>Komedi</li><li>Sains & Alam</li><li>Anak-anak</li><li>Fantasi Ilmiah & Fantasi</li><li>Petualangan</li><li>Thriller</li><li>Anime</li><li>Kejahatan</li><li>Perang</li><li>Romantis</li><li>Britania</li><li>KDrama</li></ul></div>
            <div className="foot-block foot-help"><div className="foot-title">Bantuan</div><ul className="foot-list"><li><a href="#">FAQ</a></li><li><a href="#">Kontak Kami</a></li><li><a href="#">Privasi</a></li><li><a href="#">Syarat & Ketentuan</a></li></ul></div>
          </div>
        </footer>
      );
    }

    function Modal({ open, onClose, item }){
      if(!open) return null;
      return (
        <div className="backdrop" onClick={onClose}>
          <div className="modal" onClick={(e)=>e.stopPropagation()}>
            <div className="modal-header">
              <div className="modal-title">{item?.label || 'Detail'}</div>
              <button className="modal-close" onClick={onClose}>Tutup</button>
            </div>
            <div className="modal-body">
              <div className="modal-row">
                <img className="modal-poster" src={item?.img} alt={item?.alt} onError={(e)=>{e.currentTarget.onerror=null;e.currentTarget.src='https://via.placeholder.com/300x450?text=Poster';}} />
                <div>
                  <p style={{color:'#9bb0c7',marginTop:0}}>Detail film singkat (dummy UI).</p>
                  <div className="modal-actions">
                    <a className="btn" href="./watch.html">Tonton</a>
                    <a className="btn-outline" href="#">Tambah ke Daftar</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    }

    function App(){
      const [open, setOpen] = React.useState(false);
      const [current, setCurrent] = React.useState(null);
      const openDetail = (item)=>{ setCurrent(item); setOpen(true); };
      const closeDetail = ()=> setOpen(false);
      return (
        <>
          <Header />
          <main className="container" role="main">
            <Hero {...data.hero} />
            {data.sections.map(sec=>(<Section key={sec.title} title={sec.title} items={sec.items} onOpen={openDetail} />))}
          </main>
          <Modal open={open} onClose={closeDetail} item={current} />
          <Footer />
        </>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>


